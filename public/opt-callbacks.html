<script src="./react.development.js"></script>
<script src="./babel.js"></script>
<script src="./react-dom.development.js"></script>

<div id="root"></div>

<script type="text/babel">

    const Child = ({handleClick})=>{
        console.log("Child component")
        React.useEffect(()=>{
            console.log("handleClick called")
        },[handleClick])
        return(
            <button onClick={handleClick}>Increment</button>
        )
    }

    const App = () => {
        const [name, setName] = React.useState("Sachin");
        const [count, setCount] = React.useState(0);

        var handleClick = () => {
            setCount(count + 1)
        }

        handleClick = React.useCallback(handleClick,[count])
        const handleName = ()=>{
            setName(name==="Sachin"?"Dhoni":"Sachin")
        }
        console.log("App component")
        return (
            <div>
                <h1>App</h1>
                <span>{count} </span>
                <Child handleClick={handleClick} />
                <h3>{name}</h3>
                <button onClick={handleName} >Toggle</button>
            </div>
        )
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />)


</script>